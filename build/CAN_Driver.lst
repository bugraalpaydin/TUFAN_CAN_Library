ARM GAS  /tmp/ccG9i6Tn.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"CAN_Driver.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/CAN_Driver.c"
  18              		.section	.text.CAN_CLOCK_ENABLE,"ax",%progbits
  19              		.align	1
  20              		.global	CAN_CLOCK_ENABLE
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	CAN_CLOCK_ENABLE:
  26              	.LFB65:
   1:Core/Src/CAN_Driver.c **** /*
   2:Core/Src/CAN_Driver.c ****     INITALIZATION MODE::
   3:Core/Src/CAN_Driver.c ****         - To enter initalization mode:
   4:Core/Src/CAN_Driver.c ****             set  CAN->MCR firs bit ; wait until hardware set CAN->MSR first bit
   5:Core/Src/CAN_Driver.c ****         - To leave initalization mode;
   6:Core/Src/CAN_Driver.c ****             clear CAN->MCR first bit ; wait until hardware reser CAN->MSR first bit 
   7:Core/Src/CAN_Driver.c ****         - While initalization mode CAN bus output CANTX is recessive(HIGH)
   8:Core/Src/CAN_Driver.c ****         - To initalize the registers associated with the CAN filter banks(mode, scale, FIFO, assign
   9:Core/Src/CAN_Driver.c ****         software has to seh FINIT bit in the CAN->FMR register.Filter initalization also can be don
  10:Core/Src/CAN_Driver.c ****         - To initalize the CAN Cntroller, set CAN->BTR register and CAN->MCR registers
  11:Core/Src/CAN_Driver.c **** 
  12:Core/Src/CAN_Driver.c ****         - When FINIT=1, CAN reception is deactivated.
  13:Core/Src/CAN_Driver.c ****         - The filter values also can be modified by deactivating the associated filter activation b
  14:Core/Src/CAN_Driver.c ****         - If a filter bank is not used, its recommended to leave it non active (leave the correspon
  15:Core/Src/CAN_Driver.c ****     
  16:Core/Src/CAN_Driver.c ****     NORMAL MODE::
  17:Core/Src/CAN_Driver.c ****         - The request to enter Normal mode is issued by clearing INRQ bit in the CAN->MCR register.
  18:Core/Src/CAN_Driver.c ****         - The bxCAN enters Normal mode and is ready totake part in bus acitivities when it has sync
  19:Core/Src/CAN_Driver.c ****         this is done by waiting for the occurence of a sequence of 11 consecutive recessive bits.
  20:Core/Src/CAN_Driver.c ****         - The initalization of the filter values is independent from initalizatio mode must be done
  21:Core/Src/CAN_Driver.c ****             The filter scale and mode configuration must be configured before entering Normal mode
  22:Core/Src/CAN_Driver.c **** 
  23:Core/Src/CAN_Driver.c ****     LOOPBACK MODE::
  24:Core/Src/CAN_Driver.c ****         - The bxCAN can be set in Loop-Back mode by setting the LBKM bit in the CAN_BTR register. I
  25:Core/Src/CAN_Driver.c ****         - This mode is provided for self-test functions. To be independent of external events, 
  26:Core/Src/CAN_Driver.c ****         the CAN Core ignores acknowledge errors(no dominant bit sampled in the acknowledge slot of 
  27:Core/Src/CAN_Driver.c ****         In this mode, the bxCAN performs an internal feedback from its Tx output to its Rx input. 
  28:Core/Src/CAN_Driver.c ****         The acutal value of the CANRX input pin is disregarded by the bxCAN. The transmitted messag
  29:Core/Src/CAN_Driver.c ****         the bxCAN treats its own transmitted messages as received messages and stores them (if they
  30:Core/Src/CAN_Driver.c **** 
  31:Core/Src/CAN_Driver.c **** 
  32:Core/Src/CAN_Driver.c **** 
ARM GAS  /tmp/ccG9i6Tn.s 			page 2


  33:Core/Src/CAN_Driver.c ****     CAN_TX (Transmit Data line) Alternate Function push-pull
  34:Core/Src/CAN_Driver.c ****     CAN_RX (Receive Data line) Input floating
  35:Core/Src/CAN_Driver.c ****     CAN1_RX or CAN_RX PA11
  36:Core/Src/CAN_Driver.c ****     CAN1_TX or CAN_TX PA12
  37:Core/Src/CAN_Driver.c **** */
  38:Core/Src/CAN_Driver.c **** 
  39:Core/Src/CAN_Driver.c **** #include "CAN_Driver.h"
  40:Core/Src/CAN_Driver.c **** 
  41:Core/Src/CAN_Driver.c **** CAN_Msg CAN_TxMsg;
  42:Core/Src/CAN_Driver.c **** CAN_Msg CAN_RxMsg;
  43:Core/Src/CAN_Driver.c **** 
  44:Core/Src/CAN_Driver.c **** unsigned int CAN_TxRdy = 0;
  45:Core/Src/CAN_Driver.c **** unsigned int CAN_RxRdy = 0;
  46:Core/Src/CAN_Driver.c **** 
  47:Core/Src/CAN_Driver.c **** 
  48:Core/Src/CAN_Driver.c **** void CAN_CLOCK_ENABLE(void){
  27              		.loc 1 48 28 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  49:Core/Src/CAN_Driver.c ****     //Alternate function enable
  50:Core/Src/CAN_Driver.c ****     RCC -> APB2ENR |= (1<<0);
  32              		.loc 1 50 5 view .LVU1
  33              		.loc 1 50 9 is_stmt 0 view .LVU2
  34 0000 064B     		ldr	r3, .L2
  35 0002 9A69     		ldr	r2, [r3, #24]
  36              		.loc 1 50 20 view .LVU3
  37 0004 42F00102 		orr	r2, r2, #1
  38 0008 9A61     		str	r2, [r3, #24]
  51:Core/Src/CAN_Driver.c ****     //GPIOA clock enable
  52:Core/Src/CAN_Driver.c ****     RCC -> APB2ENR |= (1<<2);
  39              		.loc 1 52 5 is_stmt 1 view .LVU4
  40              		.loc 1 52 9 is_stmt 0 view .LVU5
  41 000a 9A69     		ldr	r2, [r3, #24]
  42              		.loc 1 52 20 view .LVU6
  43 000c 42F00402 		orr	r2, r2, #4
  44 0010 9A61     		str	r2, [r3, #24]
  53:Core/Src/CAN_Driver.c ****     //CAN1 clock enable
  54:Core/Src/CAN_Driver.c ****     RCC -> APB1ENR |= (1<<25);
  45              		.loc 1 54 5 is_stmt 1 view .LVU7
  46              		.loc 1 54 9 is_stmt 0 view .LVU8
  47 0012 DA69     		ldr	r2, [r3, #28]
  48              		.loc 1 54 20 view .LVU9
  49 0014 42F00072 		orr	r2, r2, #33554432
  50 0018 DA61     		str	r2, [r3, #28]
  55:Core/Src/CAN_Driver.c **** }
  51              		.loc 1 55 1 view .LVU10
  52 001a 7047     		bx	lr
  53              	.L3:
  54              		.align	2
  55              	.L2:
  56 001c 00100240 		.word	1073876992
  57              		.cfi_endproc
  58              	.LFE65:
  60              		.section	.text.CAN_Setup,"ax",%progbits
  61              		.align	1
ARM GAS  /tmp/ccG9i6Tn.s 			page 3


  62              		.global	CAN_Setup
  63              		.syntax unified
  64              		.thumb
  65              		.thumb_func
  67              	CAN_Setup:
  68              	.LFB66:
  56:Core/Src/CAN_Driver.c **** void CAN_Setup(void){
  69              		.loc 1 56 21 is_stmt 1 view -0
  70              		.cfi_startproc
  71              		@ args = 0, pretend = 0, frame = 0
  72              		@ frame_needed = 0, uses_anonymous_args = 0
  73              		@ link register save eliminated.
  57:Core/Src/CAN_Driver.c ****     //NVIC -> ISER[0] |= (1<< (USB_HP_CAN1_TX_IRQn & 0x1F));
  58:Core/Src/CAN_Driver.c ****     //NVIC -> ISER[0] |= (1<< (USB_LP_CAN1_RX0_IRQn & 0x1F));
  59:Core/Src/CAN_Driver.c **** 
  60:Core/Src/CAN_Driver.c ****     //Initialization Request
  61:Core/Src/CAN_Driver.c ****     CAN1 -> MCR |= (1<<0);
  74              		.loc 1 61 5 view .LVU12
  75              		.loc 1 61 10 is_stmt 0 view .LVU13
  76 0000 0C4B     		ldr	r3, .L5
  77 0002 1A68     		ldr	r2, [r3]
  78              		.loc 1 61 17 view .LVU14
  79 0004 42F00102 		orr	r2, r2, #1
  80 0008 1A60     		str	r2, [r3]
  62:Core/Src/CAN_Driver.c ****     // No automatic retransmission
  63:Core/Src/CAN_Driver.c ****     CAN1 -> MCR |= (1<<4);
  81              		.loc 1 63 5 is_stmt 1 view .LVU15
  82              		.loc 1 63 10 is_stmt 0 view .LVU16
  83 000a 1A68     		ldr	r2, [r3]
  84              		.loc 1 63 17 view .LVU17
  85 000c 42F01002 		orr	r2, r2, #16
  86 0010 1A60     		str	r2, [r3]
  64:Core/Src/CAN_Driver.c ****     // Auto retransmit
  65:Core/Src/CAN_Driver.c ****     //CAN1 -> MCR &= ~(1<<4);
  66:Core/Src/CAN_Driver.c ****     
  67:Core/Src/CAN_Driver.c ****     //FIFO message pending interrupt enable
  68:Core/Src/CAN_Driver.c ****     CAN1 -> IER |= (1<<0);
  87              		.loc 1 68 5 is_stmt 1 view .LVU18
  88              		.loc 1 68 10 is_stmt 0 view .LVU19
  89 0012 5A69     		ldr	r2, [r3, #20]
  90              		.loc 1 68 17 view .LVU20
  91 0014 42F00102 		orr	r2, r2, #1
  92 0018 5A61     		str	r2, [r3, #20]
  69:Core/Src/CAN_Driver.c ****     //Transmit mailbox empty interrupt enable
  70:Core/Src/CAN_Driver.c ****     CAN1 -> IER |= (1<<1);
  93              		.loc 1 70 5 is_stmt 1 view .LVU21
  94              		.loc 1 70 10 is_stmt 0 view .LVU22
  95 001a 5A69     		ldr	r2, [r3, #20]
  96              		.loc 1 70 17 view .LVU23
  97 001c 42F00202 		orr	r2, r2, #2
  98 0020 5A61     		str	r2, [r3, #20]
  71:Core/Src/CAN_Driver.c **** 
  72:Core/Src/CAN_Driver.c ****     int brp = 500000;
  99              		.loc 1 72 5 is_stmt 1 view .LVU24
 100              	.LVL0:
  73:Core/Src/CAN_Driver.c **** 
  74:Core/Src/CAN_Driver.c ****     CAN1 -> BTR &= ~(((        0x03) << 24) | ((        0x07) << 20) | ((         0x0F) << 16) | ( 
ARM GAS  /tmp/ccG9i6Tn.s 			page 4


 101              		.loc 1 74 5 view .LVU25
 102              		.loc 1 74 10 is_stmt 0 view .LVU26
 103 0022 D969     		ldr	r1, [r3, #28]
 104              		.loc 1 74 17 view .LVU27
 105 0024 044A     		ldr	r2, .L5+4
 106 0026 0A40     		ands	r2, r2, r1
 107 0028 DA61     		str	r2, [r3, #28]
  75:Core/Src/CAN_Driver.c ****     CAN1 -> BTR |=  ((((4-1) & 0x03) << 24) | (((5-1) & 0x07) << 20) | (((12-1) & 0x0F) << 16) | ((
 108              		.loc 1 75 5 is_stmt 1 view .LVU28
 109              		.loc 1 75 10 is_stmt 0 view .LVU29
 110 002a D969     		ldr	r1, [r3, #28]
 111              		.loc 1 75 17 view .LVU30
 112 002c 034A     		ldr	r2, .L5+8
 113 002e 0A43     		orrs	r2, r2, r1
 114 0030 DA61     		str	r2, [r3, #28]
  76:Core/Src/CAN_Driver.c **** }
 115              		.loc 1 76 1 view .LVU31
 116 0032 7047     		bx	lr
 117              	.L6:
 118              		.align	2
 119              	.L5:
 120 0034 00640040 		.word	1073767424
 121 0038 00FE80FC 		.word	-58655232
 122 003c 1F014B03 		.word	55247135
 123              		.cfi_endproc
 124              	.LFE66:
 126              		.section	.text.CAN_StartNormalMode,"ax",%progbits
 127              		.align	1
 128              		.global	CAN_StartNormalMode
 129              		.syntax unified
 130              		.thumb
 131              		.thumb_func
 133              	CAN_StartNormalMode:
 134              	.LFB67:
  77:Core/Src/CAN_Driver.c **** 
  78:Core/Src/CAN_Driver.c **** 
  79:Core/Src/CAN_Driver.c **** //LEAVE INITIALIZATION MODE 
  80:Core/Src/CAN_Driver.c **** void CAN_StartNormalMode(void){
 135              		.loc 1 80 31 is_stmt 1 view -0
 136              		.cfi_startproc
 137              		@ args = 0, pretend = 0, frame = 0
 138              		@ frame_needed = 0, uses_anonymous_args = 0
 139              		@ link register save eliminated.
  81:Core/Src/CAN_Driver.c ****     //Normal operating mode , reset INRQ 
  82:Core/Src/CAN_Driver.c ****     CAN1 -> MCR &= ~(1<<0);
 140              		.loc 1 82 5 view .LVU33
 141              		.loc 1 82 10 is_stmt 0 view .LVU34
 142 0000 054A     		ldr	r2, .L9
 143 0002 1368     		ldr	r3, [r2]
 144              		.loc 1 82 17 view .LVU35
 145 0004 23F00103 		bic	r3, r3, #1
 146 0008 1360     		str	r3, [r2]
  83:Core/Src/CAN_Driver.c ****     while (CAN1->MSR & (1<<0));
 147              		.loc 1 83 5 is_stmt 1 view .LVU36
 148              	.L8:
 149              		.loc 1 83 12 discriminator 1 view .LVU37
 150              		.loc 1 83 16 is_stmt 0 discriminator 1 view .LVU38
ARM GAS  /tmp/ccG9i6Tn.s 			page 5


 151 000a 034B     		ldr	r3, .L9
 152 000c 5B68     		ldr	r3, [r3, #4]
 153              		.loc 1 83 12 discriminator 1 view .LVU39
 154 000e 13F0010F 		tst	r3, #1
 155 0012 FAD1     		bne	.L8
  84:Core/Src/CAN_Driver.c **** }
 156              		.loc 1 84 1 view .LVU40
 157 0014 7047     		bx	lr
 158              	.L10:
 159 0016 00BF     		.align	2
 160              	.L9:
 161 0018 00640040 		.word	1073767424
 162              		.cfi_endproc
 163              	.LFE67:
 165              		.section	.text.CAN_TestMode,"ax",%progbits
 166              		.align	1
 167              		.global	CAN_TestMode
 168              		.syntax unified
 169              		.thumb
 170              		.thumb_func
 172              	CAN_TestMode:
 173              	.LVL1:
 174              	.LFB68:
  85:Core/Src/CAN_Driver.c **** 
  86:Core/Src/CAN_Driver.c **** 
  87:Core/Src/CAN_Driver.c **** //SET THE TEST MODE
  88:Core/Src/CAN_Driver.c **** void CAN_TestMode(unsigned int testmode){
 175              		.loc 1 88 41 is_stmt 1 view -0
 176              		.cfi_startproc
 177              		@ args = 0, pretend = 0, frame = 0
 178              		@ frame_needed = 0, uses_anonymous_args = 0
 179              		@ link register save eliminated.
  89:Core/Src/CAN_Driver.c ****     CAN1->BTR &= ~(CAN_BTR_SILM | CAN_BTR_LBKM);     // set testmode
 180              		.loc 1 89 5 view .LVU42
 181              		.loc 1 89 9 is_stmt 0 view .LVU43
 182 0000 054B     		ldr	r3, .L12
 183 0002 DA69     		ldr	r2, [r3, #28]
 184              		.loc 1 89 15 view .LVU44
 185 0004 22F04042 		bic	r2, r2, #-1073741824
 186 0008 DA61     		str	r2, [r3, #28]
  90:Core/Src/CAN_Driver.c ****     CAN1->BTR |=  (testmode & (CAN_BTR_SILM | CAN_BTR_LBKM));
 187              		.loc 1 90 5 is_stmt 1 view .LVU45
 188              		.loc 1 90 9 is_stmt 0 view .LVU46
 189 000a DA69     		ldr	r2, [r3, #28]
 190              		.loc 1 90 29 view .LVU47
 191 000c 00F04040 		and	r0, r0, #-1073741824
 192              	.LVL2:
 193              		.loc 1 90 15 view .LVU48
 194 0010 0243     		orrs	r2, r2, r0
 195 0012 DA61     		str	r2, [r3, #28]
  91:Core/Src/CAN_Driver.c **** }
 196              		.loc 1 91 1 view .LVU49
 197 0014 7047     		bx	lr
 198              	.L13:
 199 0016 00BF     		.align	2
 200              	.L12:
 201 0018 00640040 		.word	1073767424
ARM GAS  /tmp/ccG9i6Tn.s 			page 6


 202              		.cfi_endproc
 203              	.LFE68:
 205              		.section	.text.CAN_WaitReady,"ax",%progbits
 206              		.align	1
 207              		.global	CAN_WaitReady
 208              		.syntax unified
 209              		.thumb
 210              		.thumb_func
 212              	CAN_WaitReady:
 213              	.LFB69:
  92:Core/Src/CAN_Driver.c **** 
  93:Core/Src/CAN_Driver.c **** 
  94:Core/Src/CAN_Driver.c **** //CHECK IF TRANSMIT MAILBOX IS EMPTY
  95:Core/Src/CAN_Driver.c **** void CAN_WaitReady(void){
 214              		.loc 1 95 25 is_stmt 1 view -0
 215              		.cfi_startproc
 216              		@ args = 0, pretend = 0, frame = 0
 217              		@ frame_needed = 0, uses_anonymous_args = 0
 218              		@ link register save eliminated.
 219              	.L15:
  96:Core/Src/CAN_Driver.c ****     while((CAN1 -> TSR & (1<<26)) == 0); //TRANSMIT MAILBOX 0 IS EMPTY
 220              		.loc 1 96 35 discriminator 1 view .LVU51
 221              		.loc 1 96 17 is_stmt 0 discriminator 1 view .LVU52
 222 0000 044B     		ldr	r3, .L16
 223 0002 9B68     		ldr	r3, [r3, #8]
 224              		.loc 1 96 35 discriminator 1 view .LVU53
 225 0004 13F0806F 		tst	r3, #67108864
 226 0008 FAD0     		beq	.L15
  97:Core/Src/CAN_Driver.c ****     CAN_TxRdy = 1;
 227              		.loc 1 97 5 is_stmt 1 view .LVU54
 228              		.loc 1 97 15 is_stmt 0 view .LVU55
 229 000a 034B     		ldr	r3, .L16+4
 230 000c 0122     		movs	r2, #1
 231 000e 1A60     		str	r2, [r3]
  98:Core/Src/CAN_Driver.c **** }
 232              		.loc 1 98 1 view .LVU56
 233 0010 7047     		bx	lr
 234              	.L17:
 235 0012 00BF     		.align	2
 236              	.L16:
 237 0014 00640040 		.word	1073767424
 238 0018 00000000 		.word	CAN_TxRdy
 239              		.cfi_endproc
 240              	.LFE69:
 242              		.section	.text.CAN_WriteMessage,"ax",%progbits
 243              		.align	1
 244              		.global	CAN_WriteMessage
 245              		.syntax unified
 246              		.thumb
 247              		.thumb_func
 249              	CAN_WriteMessage:
 250              	.LVL3:
 251              	.LFB70:
  99:Core/Src/CAN_Driver.c **** 
 100:Core/Src/CAN_Driver.c **** 
 101:Core/Src/CAN_Driver.c **** // WRITE A MESSAGE TO CAN PERHIPERAL AND TRANSMIT IT
 102:Core/Src/CAN_Driver.c **** void CAN_WriteMessage(CAN_Msg *msg){
ARM GAS  /tmp/ccG9i6Tn.s 			page 7


 252              		.loc 1 102 36 is_stmt 1 view -0
 253              		.cfi_startproc
 254              		@ args = 0, pretend = 0, frame = 0
 255              		@ frame_needed = 0, uses_anonymous_args = 0
 256              		@ link register save eliminated.
 103:Core/Src/CAN_Driver.c ****     CAN1->sTxMailBox[0].TIR = (unsigned int)0; // reset TIR register
 257              		.loc 1 103 5 view .LVU58
 258              		.loc 1 103 29 is_stmt 0 view .LVU59
 259 0000 2D4B     		ldr	r3, .L23
 260 0002 0022     		movs	r2, #0
 261 0004 C3F88021 		str	r2, [r3, #384]
 104:Core/Src/CAN_Driver.c **** 
 105:Core/Src/CAN_Driver.c ****     if(msg->format == STANDARD_FORMAT) // Setup identifier information, standard ID
 262              		.loc 1 105 5 is_stmt 1 view .LVU60
 263              		.loc 1 105 11 is_stmt 0 view .LVU61
 264 0008 437B     		ldrb	r3, [r0, #13]	@ zero_extendqisi2
 265              		.loc 1 105 7 view .LVU62
 266 000a 002B     		cmp	r3, #0
 267 000c 41D1     		bne	.L19
 106:Core/Src/CAN_Driver.c ****         CAN1 -> sTxMailBox[0].TIR |= (unsigned int)(msg->id << 21) | (0x00000000U);
 268              		.loc 1 106 9 is_stmt 1 view .LVU63
 269              		.loc 1 106 30 is_stmt 0 view .LVU64
 270 000e 2A4A     		ldr	r2, .L23
 271 0010 D2F88031 		ldr	r3, [r2, #384]
 272              		.loc 1 106 56 view .LVU65
 273 0014 0168     		ldr	r1, [r0]
 274              		.loc 1 106 35 view .LVU66
 275 0016 43EA4153 		orr	r3, r3, r1, lsl #21
 276 001a C2F88031 		str	r3, [r2, #384]
 277              	.L20:
 107:Core/Src/CAN_Driver.c ****     else // extended ID
 108:Core/Src/CAN_Driver.c ****         CAN1 -> sTxMailBox[0].TIR |= (unsigned int)(msg->id << 3) | (0x00000004U);
 109:Core/Src/CAN_Driver.c ****     // Setup type information
 110:Core/Src/CAN_Driver.c ****     if(msg->type == DATA_FRAME) // Data frame
 278              		.loc 1 110 5 is_stmt 1 view .LVU67
 279              		.loc 1 110 11 is_stmt 0 view .LVU68
 280 001e 837B     		ldrb	r3, [r0, #14]	@ zero_extendqisi2
 281              		.loc 1 110 7 view .LVU69
 282 0020 002B     		cmp	r3, #0
 283 0022 41D1     		bne	.L21
 111:Core/Src/CAN_Driver.c ****         CAN1 -> sTxMailBox[0].TIR |= (0x00000000U);
 284              		.loc 1 111 9 is_stmt 1 view .LVU70
 285              		.loc 1 111 30 is_stmt 0 view .LVU71
 286 0024 244B     		ldr	r3, .L23
 287 0026 D3F88021 		ldr	r2, [r3, #384]
 288              		.loc 1 111 35 view .LVU72
 289 002a C3F88021 		str	r2, [r3, #384]
 290              	.L22:
 112:Core/Src/CAN_Driver.c ****     else    //remote frame
 113:Core/Src/CAN_Driver.c ****         CAN1 -> sTxMailBox[0].TIR |= (0x00000002U);
 114:Core/Src/CAN_Driver.c **** 
 115:Core/Src/CAN_Driver.c ****     // Setup data bytes
 116:Core/Src/CAN_Driver.c ****     CAN1->sTxMailBox[0].TDLR = (((unsigned int)msg->data[3] << 24) | 
 291              		.loc 1 116 5 is_stmt 1 view .LVU73
 292              		.loc 1 116 57 is_stmt 0 view .LVU74
 293 002e C379     		ldrb	r3, [r0, #7]	@ zero_extendqisi2
 117:Core/Src/CAN_Driver.c ****                                 ((unsigned int)msg->data[2] << 16) |
ARM GAS  /tmp/ccG9i6Tn.s 			page 8


 294              		.loc 1 117 57 view .LVU75
 295 0030 8279     		ldrb	r2, [r0, #6]	@ zero_extendqisi2
 296              		.loc 1 117 61 view .LVU76
 297 0032 1204     		lsls	r2, r2, #16
 116:Core/Src/CAN_Driver.c ****                                 ((unsigned int)msg->data[2] << 16) |
 298              		.loc 1 116 68 view .LVU77
 299 0034 42EA0362 		orr	r2, r2, r3, lsl #24
 118:Core/Src/CAN_Driver.c ****                                 ((unsigned int)msg->data[1] <<  8) | 
 300              		.loc 1 118 57 view .LVU78
 301 0038 4379     		ldrb	r3, [r0, #5]	@ zero_extendqisi2
 117:Core/Src/CAN_Driver.c ****                                 ((unsigned int)msg->data[2] << 16) |
 302              		.loc 1 117 68 view .LVU79
 303 003a 42EA0322 		orr	r2, r2, r3, lsl #8
 119:Core/Src/CAN_Driver.c ****                               
 120:Core/Src/CAN_Driver.c ****   ((unsigned int)msg->data[0]));
 304              		.loc 1 120 27 view .LVU80
 305 003e 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 118:Core/Src/CAN_Driver.c ****                                 ((unsigned int)msg->data[1] <<  8) | 
 306              		.loc 1 118 68 view .LVU81
 307 0040 1A43     		orrs	r2, r2, r3
 116:Core/Src/CAN_Driver.c ****                                 ((unsigned int)msg->data[2] << 16) |
 308              		.loc 1 116 30 view .LVU82
 309 0042 1D4B     		ldr	r3, .L23
 310 0044 C3F88821 		str	r2, [r3, #392]
 121:Core/Src/CAN_Driver.c ****     CAN1->sTxMailBox[0].TDHR = (((unsigned int)msg->data[7] << 24) | 
 311              		.loc 1 121 5 is_stmt 1 view .LVU83
 312              		.loc 1 121 57 is_stmt 0 view .LVU84
 313 0048 C17A     		ldrb	r1, [r0, #11]	@ zero_extendqisi2
 122:Core/Src/CAN_Driver.c ****                                 ((unsigned int)msg->data[6] << 16) |
 314              		.loc 1 122 57 view .LVU85
 315 004a 827A     		ldrb	r2, [r0, #10]	@ zero_extendqisi2
 316              		.loc 1 122 61 view .LVU86
 317 004c 1204     		lsls	r2, r2, #16
 121:Core/Src/CAN_Driver.c ****     CAN1->sTxMailBox[0].TDHR = (((unsigned int)msg->data[7] << 24) | 
 318              		.loc 1 121 68 view .LVU87
 319 004e 42EA0162 		orr	r2, r2, r1, lsl #24
 123:Core/Src/CAN_Driver.c ****                                 ((unsigned int)msg->data[5] <<  8) |
 320              		.loc 1 123 57 view .LVU88
 321 0052 417A     		ldrb	r1, [r0, #9]	@ zero_extendqisi2
 122:Core/Src/CAN_Driver.c ****                                 ((unsigned int)msg->data[6] << 16) |
 322              		.loc 1 122 68 view .LVU89
 323 0054 42EA0122 		orr	r2, r2, r1, lsl #8
 124:Core/Src/CAN_Driver.c ****                                 ((unsigned int)msg->data[4]));
 324              		.loc 1 124 57 view .LVU90
 325 0058 017A     		ldrb	r1, [r0, #8]	@ zero_extendqisi2
 123:Core/Src/CAN_Driver.c ****                                 ((unsigned int)msg->data[5] <<  8) |
 326              		.loc 1 123 68 view .LVU91
 327 005a 0A43     		orrs	r2, r2, r1
 121:Core/Src/CAN_Driver.c ****                                 ((unsigned int)msg->data[6] << 16) |
 328              		.loc 1 121 30 view .LVU92
 329 005c C3F88C21 		str	r2, [r3, #396]
 125:Core/Src/CAN_Driver.c **** 
 126:Core/Src/CAN_Driver.c ****     //SETUP LENGTH
 127:Core/Src/CAN_Driver.c ****     CAN1 -> sTxMailBox[0].TDTR &= ~(0xFUL << (0U));
 330              		.loc 1 127 5 is_stmt 1 view .LVU93
 331              		.loc 1 127 26 is_stmt 0 view .LVU94
 332 0060 D3F88421 		ldr	r2, [r3, #388]
ARM GAS  /tmp/ccG9i6Tn.s 			page 9


 333              		.loc 1 127 32 view .LVU95
 334 0064 22F00F02 		bic	r2, r2, #15
 335 0068 C3F88421 		str	r2, [r3, #388]
 128:Core/Src/CAN_Driver.c ****     CAN1 -> sTxMailBox[0].TDTR |= (msg->len & (0xFUL << (0U)));
 336              		.loc 1 128 5 is_stmt 1 view .LVU96
 337              		.loc 1 128 26 is_stmt 0 view .LVU97
 338 006c D3F88421 		ldr	r2, [r3, #388]
 339              		.loc 1 128 39 view .LVU98
 340 0070 017B     		ldrb	r1, [r0, #12]	@ zero_extendqisi2
 341              		.loc 1 128 45 view .LVU99
 342 0072 01F00F01 		and	r1, r1, #15
 343              		.loc 1 128 32 view .LVU100
 344 0076 0A43     		orrs	r2, r2, r1
 345 0078 C3F88421 		str	r2, [r3, #388]
 129:Core/Src/CAN_Driver.c **** 
 130:Core/Src/CAN_Driver.c ****     CAN1 -> IER |= CAN_IER_TMEIE;                   // Enable TME interrup
 346              		.loc 1 130 5 is_stmt 1 view .LVU101
 347              		.loc 1 130 10 is_stmt 0 view .LVU102
 348 007c 5A69     		ldr	r2, [r3, #20]
 349              		.loc 1 130 17 view .LVU103
 350 007e 42F00102 		orr	r2, r2, #1
 351 0082 5A61     		str	r2, [r3, #20]
 131:Core/Src/CAN_Driver.c ****     CAN1 -> sTxMailBox[0].TIR |= CAN_TI0R_TXRQ;     // Transmit message
 352              		.loc 1 131 5 is_stmt 1 view .LVU104
 353              		.loc 1 131 26 is_stmt 0 view .LVU105
 354 0084 D3F88021 		ldr	r2, [r3, #384]
 355              		.loc 1 131 31 view .LVU106
 356 0088 42F00102 		orr	r2, r2, #1
 357 008c C3F88021 		str	r2, [r3, #384]
 132:Core/Src/CAN_Driver.c **** }
 358              		.loc 1 132 1 view .LVU107
 359 0090 7047     		bx	lr
 360              	.L19:
 108:Core/Src/CAN_Driver.c ****     // Setup type information
 361              		.loc 1 108 9 is_stmt 1 view .LVU108
 108:Core/Src/CAN_Driver.c ****     // Setup type information
 362              		.loc 1 108 30 is_stmt 0 view .LVU109
 363 0092 094A     		ldr	r2, .L23
 364 0094 D2F88031 		ldr	r3, [r2, #384]
 108:Core/Src/CAN_Driver.c ****     // Setup type information
 365              		.loc 1 108 56 view .LVU110
 366 0098 0168     		ldr	r1, [r0]
 108:Core/Src/CAN_Driver.c ****     // Setup type information
 367              		.loc 1 108 35 view .LVU111
 368 009a 43EAC103 		orr	r3, r3, r1, lsl #3
 369 009e 43F00403 		orr	r3, r3, #4
 370 00a2 C2F88031 		str	r3, [r2, #384]
 371 00a6 BAE7     		b	.L20
 372              	.L21:
 113:Core/Src/CAN_Driver.c **** 
 373              		.loc 1 113 9 is_stmt 1 view .LVU112
 113:Core/Src/CAN_Driver.c **** 
 374              		.loc 1 113 30 is_stmt 0 view .LVU113
 375 00a8 034A     		ldr	r2, .L23
 376 00aa D2F88031 		ldr	r3, [r2, #384]
 113:Core/Src/CAN_Driver.c **** 
 377              		.loc 1 113 35 view .LVU114
ARM GAS  /tmp/ccG9i6Tn.s 			page 10


 378 00ae 43F00203 		orr	r3, r3, #2
 379 00b2 C2F88031 		str	r3, [r2, #384]
 380 00b6 BAE7     		b	.L22
 381              	.L24:
 382              		.align	2
 383              	.L23:
 384 00b8 00640040 		.word	1073767424
 385              		.cfi_endproc
 386              	.LFE70:
 388              		.section	.text.CAN_ReadMessage,"ax",%progbits
 389              		.align	1
 390              		.global	CAN_ReadMessage
 391              		.syntax unified
 392              		.thumb
 393              		.thumb_func
 395              	CAN_ReadMessage:
 396              	.LVL4:
 397              	.LFB71:
 133:Core/Src/CAN_Driver.c **** 
 134:Core/Src/CAN_Driver.c **** void CAN_ReadMessage(CAN_Msg *msg){
 398              		.loc 1 134 35 is_stmt 1 view -0
 399              		.cfi_startproc
 400              		@ args = 0, pretend = 0, frame = 0
 401              		@ frame_needed = 0, uses_anonymous_args = 0
 402              		@ link register save eliminated.
 135:Core/Src/CAN_Driver.c ****     //TODO
 136:Core/Src/CAN_Driver.c **** }
 403              		.loc 1 136 1 view .LVU116
 404 0000 7047     		bx	lr
 405              		.cfi_endproc
 406              	.LFE71:
 408              		.section	.text.CAN_SetFilter,"ax",%progbits
 409              		.align	1
 410              		.global	CAN_SetFilter
 411              		.syntax unified
 412              		.thumb
 413              		.thumb_func
 415              	CAN_SetFilter:
 416              	.LVL5:
 417              	.LFB72:
 137:Core/Src/CAN_Driver.c **** 
 138:Core/Src/CAN_Driver.c **** 
 139:Core/Src/CAN_Driver.c **** void CAN_SetFilter(unsigned int id, unsigned char format){
 418              		.loc 1 139 58 view -0
 419              		.cfi_startproc
 420              		@ args = 0, pretend = 0, frame = 0
 421              		@ frame_needed = 0, uses_anonymous_args = 0
 422              		@ link register save eliminated.
 140:Core/Src/CAN_Driver.c ****     static unsigned short CAN_FilterId = 0;
 423              		.loc 1 140 5 view .LVU118
 141:Core/Src/CAN_Driver.c ****     unsigned int CAN_MsgId             = 0;
 424              		.loc 1 141 5 view .LVU119
 142:Core/Src/CAN_Driver.c **** 
 143:Core/Src/CAN_Driver.c ****     if (CAN_FilterId > 13) {
 425              		.loc 1 143 5 view .LVU120
 426              		.loc 1 143 22 is_stmt 0 view .LVU121
 427 0000 214B     		ldr	r3, .L30
ARM GAS  /tmp/ccG9i6Tn.s 			page 11


 428 0002 B3F800C0 		ldrh	ip, [r3]
 429              		.loc 1 143 8 view .LVU122
 430 0006 BCF10D0F 		cmp	ip, #13
 431 000a 37D8     		bhi	.L26
 144:Core/Src/CAN_Driver.c ****         return;
 145:Core/Src/CAN_Driver.c ****     }
 146:Core/Src/CAN_Driver.c **** 
 147:Core/Src/CAN_Driver.c ****     if (format == 0){
 432              		.loc 1 147 5 is_stmt 1 view .LVU123
 433              		.loc 1 147 8 is_stmt 0 view .LVU124
 434 000c B9BB     		cbnz	r1, .L28
 148:Core/Src/CAN_Driver.c ****         CAN_MsgId |= (unsigned int)(id<<21) | (0x00000000U);
 435              		.loc 1 148 9 is_stmt 1 view .LVU125
 436              		.loc 1 148 45 is_stmt 0 view .LVU126
 437 000e 4005     		lsls	r0, r0, #21
 438              	.LVL6:
 439              	.L29:
 149:Core/Src/CAN_Driver.c ****     }
 150:Core/Src/CAN_Driver.c ****     else {
 151:Core/Src/CAN_Driver.c ****         CAN_MsgId |= (unsigned int)(id<<3) | (0x00000004U)
 152:Core/Src/CAN_Driver.c **** ;
 153:Core/Src/CAN_Driver.c ****     }
 154:Core/Src/CAN_Driver.c ****     //SET INITIALIZATION MODE FOR FILTER BANKS
 155:Core/Src/CAN_Driver.c ****     CAN1->FMR |= (1<<0); 
 440              		.loc 1 155 5 is_stmt 1 view .LVU127
 441              		.loc 1 155 9 is_stmt 0 view .LVU128
 442 0010 1E4B     		ldr	r3, .L30+4
 443 0012 D3F80022 		ldr	r2, [r3, #512]
 444              		.loc 1 155 15 view .LVU129
 445 0016 42F00102 		orr	r2, r2, #1
 446 001a C3F80022 		str	r2, [r3, #512]
 156:Core/Src/CAN_Driver.c ****     //DEACTIVE FILTER
 157:Core/Src/CAN_Driver.c ****     CAN1->FA1R &= ~(unsigned int)(1 << CAN_FilterId);//deactive filter 
 447              		.loc 1 157 5 is_stmt 1 view .LVU130
 448              		.loc 1 157 9 is_stmt 0 view .LVU131
 449 001e D3F81C12 		ldr	r1, [r3, #540]
 450              	.LVL7:
 451              		.loc 1 157 37 view .LVU132
 452 0022 0122     		movs	r2, #1
 453 0024 02FA0CF2 		lsl	r2, r2, ip
 454              		.loc 1 157 16 view .LVU133
 455 0028 21EA0201 		bic	r1, r1, r2
 456 002c C3F81C12 		str	r1, [r3, #540]
 158:Core/Src/CAN_Driver.c **** 
 159:Core/Src/CAN_Driver.c ****     //INITIALIZE FILTER
 160:Core/Src/CAN_Driver.c ****     //SET 32-BIT SCALE CONFIg
 161:Core/Src/CAN_Driver.c ****     CAN1 -> FS1R |= (unsigned int)(1 << CAN_FilterId);
 457              		.loc 1 161 5 is_stmt 1 view .LVU134
 458              		.loc 1 161 10 is_stmt 0 view .LVU135
 459 0030 D3F80C12 		ldr	r1, [r3, #524]
 460              		.loc 1 161 18 view .LVU136
 461 0034 1143     		orrs	r1, r1, r2
 462 0036 C3F80C12 		str	r1, [r3, #524]
 162:Core/Src/CAN_Driver.c ****     //SET 2 32-bit idenfitier list mode
 163:Core/Src/CAN_Driver.c ****     CAN1 -> FM1R |= (unsigned int)(1 << CAN_FilterId);
 463              		.loc 1 163 5 is_stmt 1 view .LVU137
 464              		.loc 1 163 10 is_stmt 0 view .LVU138
ARM GAS  /tmp/ccG9i6Tn.s 			page 12


 465 003a D3F80412 		ldr	r1, [r3, #516]
 466              		.loc 1 163 18 view .LVU139
 467 003e 1143     		orrs	r1, r1, r2
 468 0040 C3F80412 		str	r1, [r3, #516]
 164:Core/Src/CAN_Driver.c ****     
 165:Core/Src/CAN_Driver.c ****     //32-bit identifier
 166:Core/Src/CAN_Driver.c ****     CAN1->sFilterRegister[CAN_FilterId].FR1 = CAN_MsgId;
 469              		.loc 1 166 5 is_stmt 1 view .LVU140
 470              		.loc 1 166 45 is_stmt 0 view .LVU141
 471 0044 0CF14801 		add	r1, ip, #72
 472 0048 43F83100 		str	r0, [r3, r1, lsl #3]
 167:Core/Src/CAN_Driver.c ****     //32-bit identifier
 168:Core/Src/CAN_Driver.c ****     CAN1->sFilterRegister[CAN_FilterId].FR2 = CAN_MsgId;
 473              		.loc 1 168 5 is_stmt 1 view .LVU142
 474              		.loc 1 168 45 is_stmt 0 view .LVU143
 475 004c 03EBC101 		add	r1, r3, r1, lsl #3
 476 0050 4860     		str	r0, [r1, #4]
 169:Core/Src/CAN_Driver.c **** 
 170:Core/Src/CAN_Driver.c ****     //assign filter to FIFO 0
 171:Core/Src/CAN_Driver.c ****     CAN1->FFA1R &= ~(unsigned int)(1 << CAN_FilterId);
 477              		.loc 1 171 5 is_stmt 1 view .LVU144
 478              		.loc 1 171 9 is_stmt 0 view .LVU145
 479 0052 D3F81412 		ldr	r1, [r3, #532]
 480              		.loc 1 171 17 view .LVU146
 481 0056 21EA0201 		bic	r1, r1, r2
 482 005a C3F81412 		str	r1, [r3, #532]
 172:Core/Src/CAN_Driver.c ****     //active filter
 173:Core/Src/CAN_Driver.c ****     CAN1->FA1R |= (unsigned int)(1 << CAN_FilterId);
 483              		.loc 1 173 5 is_stmt 1 view .LVU147
 484              		.loc 1 173 9 is_stmt 0 view .LVU148
 485 005e D3F81C12 		ldr	r1, [r3, #540]
 486              		.loc 1 173 16 view .LVU149
 487 0062 0A43     		orrs	r2, r2, r1
 488 0064 C3F81C22 		str	r2, [r3, #540]
 174:Core/Src/CAN_Driver.c ****     //reset initialization mode for filter banks
 175:Core/Src/CAN_Driver.c ****     CAN1->FMR &= ~(1<<0);
 489              		.loc 1 175 5 is_stmt 1 view .LVU150
 490              		.loc 1 175 9 is_stmt 0 view .LVU151
 491 0068 D3F80022 		ldr	r2, [r3, #512]
 492              		.loc 1 175 15 view .LVU152
 493 006c 22F00102 		bic	r2, r2, #1
 494 0070 C3F80022 		str	r2, [r3, #512]
 176:Core/Src/CAN_Driver.c **** 
 177:Core/Src/CAN_Driver.c ****     //Increase filter index
 178:Core/Src/CAN_Driver.c ****     CAN_FilterId += 1;
 495              		.loc 1 178 5 is_stmt 1 view .LVU153
 496              		.loc 1 178 18 is_stmt 0 view .LVU154
 497 0074 0CF10103 		add	r3, ip, #1
 498 0078 034A     		ldr	r2, .L30
 499 007a 1380     		strh	r3, [r2]	@ movhi
 500              	.LVL8:
 501              	.L26:
 179:Core/Src/CAN_Driver.c **** }
 502              		.loc 1 179 1 view .LVU155
 503 007c 7047     		bx	lr
 504              	.LVL9:
 505              	.L28:
ARM GAS  /tmp/ccG9i6Tn.s 			page 13


 151:Core/Src/CAN_Driver.c **** ;
 506              		.loc 1 151 9 is_stmt 1 view .LVU156
 151:Core/Src/CAN_Driver.c **** ;
 507              		.loc 1 151 22 is_stmt 0 view .LVU157
 508 007e C000     		lsls	r0, r0, #3
 509              	.LVL10:
 151:Core/Src/CAN_Driver.c **** ;
 510              		.loc 1 151 19 view .LVU158
 511 0080 40F00400 		orr	r0, r0, #4
 512              	.LVL11:
 151:Core/Src/CAN_Driver.c **** ;
 513              		.loc 1 151 19 view .LVU159
 514 0084 C4E7     		b	.L29
 515              	.L31:
 516 0086 00BF     		.align	2
 517              	.L30:
 518 0088 00000000 		.word	CAN_FilterId.0
 519 008c 00640040 		.word	1073767424
 520              		.cfi_endproc
 521              	.LFE72:
 523              		.section	.text.CAN_GPIO_Init,"ax",%progbits
 524              		.align	1
 525              		.global	CAN_GPIO_Init
 526              		.syntax unified
 527              		.thumb
 528              		.thumb_func
 530              	CAN_GPIO_Init:
 531              	.LFB73:
 180:Core/Src/CAN_Driver.c **** 
 181:Core/Src/CAN_Driver.c **** 
 182:Core/Src/CAN_Driver.c **** 
 183:Core/Src/CAN_Driver.c **** void CAN_GPIO_Init(void){
 532              		.loc 1 183 25 is_stmt 1 view -0
 533              		.cfi_startproc
 534              		@ args = 0, pretend = 0, frame = 0
 535              		@ frame_needed = 0, uses_anonymous_args = 0
 536              		@ link register save eliminated.
 184:Core/Src/CAN_Driver.c ****     //PA11 input mode
 185:Core/Src/CAN_Driver.c ****     GPIOA->CRH &= ~(1<<12);
 537              		.loc 1 185 5 view .LVU161
 538              		.loc 1 185 10 is_stmt 0 view .LVU162
 539 0000 154B     		ldr	r3, .L33
 540 0002 5A68     		ldr	r2, [r3, #4]
 541              		.loc 1 185 16 view .LVU163
 542 0004 22F48052 		bic	r2, r2, #4096
 543 0008 5A60     		str	r2, [r3, #4]
 186:Core/Src/CAN_Driver.c ****     GPIOA->CRH &= ~(1<<13);
 544              		.loc 1 186 5 is_stmt 1 view .LVU164
 545              		.loc 1 186 10 is_stmt 0 view .LVU165
 546 000a 5A68     		ldr	r2, [r3, #4]
 547              		.loc 1 186 16 view .LVU166
 548 000c 22F40052 		bic	r2, r2, #8192
 549 0010 5A60     		str	r2, [r3, #4]
 187:Core/Src/CAN_Driver.c ****     //PA11 floating input
 188:Core/Src/CAN_Driver.c ****     GPIOA->CRH |= (1<<14);
 550              		.loc 1 188 5 is_stmt 1 view .LVU167
 551              		.loc 1 188 10 is_stmt 0 view .LVU168
ARM GAS  /tmp/ccG9i6Tn.s 			page 14


 552 0012 5A68     		ldr	r2, [r3, #4]
 553              		.loc 1 188 16 view .LVU169
 554 0014 42F48042 		orr	r2, r2, #16384
 555 0018 5A60     		str	r2, [r3, #4]
 189:Core/Src/CAN_Driver.c ****     GPIOA->CRH = ~(1<<15);
 556              		.loc 1 189 5 is_stmt 1 view .LVU170
 557              		.loc 1 189 16 is_stmt 0 view .LVU171
 558 001a 6FF40042 		mvn	r2, #32768
 559 001e 5A60     		str	r2, [r3, #4]
 190:Core/Src/CAN_Driver.c ****     //PA12 output mode, max speed 50 MHz
 191:Core/Src/CAN_Driver.c ****     GPIOA -> CRH |= (1<<16);
 560              		.loc 1 191 5 is_stmt 1 view .LVU172
 561              		.loc 1 191 11 is_stmt 0 view .LVU173
 562 0020 5A68     		ldr	r2, [r3, #4]
 563              		.loc 1 191 18 view .LVU174
 564 0022 42F48032 		orr	r2, r2, #65536
 565 0026 5A60     		str	r2, [r3, #4]
 192:Core/Src/CAN_Driver.c ****     GPIOA -> CRH |= (1<<17);
 566              		.loc 1 192 5 is_stmt 1 view .LVU175
 567              		.loc 1 192 11 is_stmt 0 view .LVU176
 568 0028 5A68     		ldr	r2, [r3, #4]
 569              		.loc 1 192 18 view .LVU177
 570 002a 42F40032 		orr	r2, r2, #131072
 571 002e 5A60     		str	r2, [r3, #4]
 193:Core/Src/CAN_Driver.c ****     //PA12 alternate function output push-pull
 194:Core/Src/CAN_Driver.c ****     GPIOA -> CRH &= ~(1<<18);
 572              		.loc 1 194 5 is_stmt 1 view .LVU178
 573              		.loc 1 194 11 is_stmt 0 view .LVU179
 574 0030 5A68     		ldr	r2, [r3, #4]
 575              		.loc 1 194 18 view .LVU180
 576 0032 22F48022 		bic	r2, r2, #262144
 577 0036 5A60     		str	r2, [r3, #4]
 195:Core/Src/CAN_Driver.c ****     GPIOA -> CRH |= (1<<19);
 578              		.loc 1 195 5 is_stmt 1 view .LVU181
 579              		.loc 1 195 11 is_stmt 0 view .LVU182
 580 0038 5A68     		ldr	r2, [r3, #4]
 581              		.loc 1 195 18 view .LVU183
 582 003a 42F40022 		orr	r2, r2, #524288
 583 003e 5A60     		str	r2, [r3, #4]
 196:Core/Src/CAN_Driver.c ****     //CAN REMAP = 0
 197:Core/Src/CAN_Driver.c ****     AFIO->MAPR &= ~(1<<13);
 584              		.loc 1 197 5 is_stmt 1 view .LVU184
 585              		.loc 1 197 9 is_stmt 0 view .LVU185
 586 0040 A3F50063 		sub	r3, r3, #2048
 587 0044 5A68     		ldr	r2, [r3, #4]
 588              		.loc 1 197 16 view .LVU186
 589 0046 22F40052 		bic	r2, r2, #8192
 590 004a 5A60     		str	r2, [r3, #4]
 198:Core/Src/CAN_Driver.c ****     AFIO->MAPR &= ~(1<<14);
 591              		.loc 1 198 5 is_stmt 1 view .LVU187
 592              		.loc 1 198 9 is_stmt 0 view .LVU188
 593 004c 5A68     		ldr	r2, [r3, #4]
 594              		.loc 1 198 16 view .LVU189
 595 004e 22F48042 		bic	r2, r2, #16384
 596 0052 5A60     		str	r2, [r3, #4]
 199:Core/Src/CAN_Driver.c **** }
 597              		.loc 1 199 1 view .LVU190
ARM GAS  /tmp/ccG9i6Tn.s 			page 15


 598 0054 7047     		bx	lr
 599              	.L34:
 600 0056 00BF     		.align	2
 601              	.L33:
 602 0058 00080140 		.word	1073809408
 603              		.cfi_endproc
 604              	.LFE73:
 606              		.section	.bss.CAN_FilterId.0,"aw",%nobits
 607              		.align	1
 610              	CAN_FilterId.0:
 611 0000 0000     		.space	2
 612              		.global	CAN_RxRdy
 613              		.section	.bss.CAN_RxRdy,"aw",%nobits
 614              		.align	2
 617              	CAN_RxRdy:
 618 0000 00000000 		.space	4
 619              		.global	CAN_TxRdy
 620              		.section	.bss.CAN_TxRdy,"aw",%nobits
 621              		.align	2
 624              	CAN_TxRdy:
 625 0000 00000000 		.space	4
 626              		.global	CAN_RxMsg
 627              		.section	.bss.CAN_RxMsg,"aw",%nobits
 628              		.align	2
 631              	CAN_RxMsg:
 632 0000 00000000 		.space	16
 632      00000000 
 632      00000000 
 632      00000000 
 633              		.global	CAN_TxMsg
 634              		.section	.bss.CAN_TxMsg,"aw",%nobits
 635              		.align	2
 638              	CAN_TxMsg:
 639 0000 00000000 		.space	16
 639      00000000 
 639      00000000 
 639      00000000 
 640              		.text
 641              	.Letext0:
 642              		.file 2 "/home/bugraaa/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-n
 643              		.file 3 "/home/bugraaa/.config/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-tools/arm-n
 644              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 645              		.file 5 "Core/Inc/CAN_Driver.h"
ARM GAS  /tmp/ccG9i6Tn.s 			page 16


DEFINED SYMBOLS
                            *ABS*:00000000 CAN_Driver.c
     /tmp/ccG9i6Tn.s:19     .text.CAN_CLOCK_ENABLE:00000000 $t
     /tmp/ccG9i6Tn.s:25     .text.CAN_CLOCK_ENABLE:00000000 CAN_CLOCK_ENABLE
     /tmp/ccG9i6Tn.s:56     .text.CAN_CLOCK_ENABLE:0000001c $d
     /tmp/ccG9i6Tn.s:61     .text.CAN_Setup:00000000 $t
     /tmp/ccG9i6Tn.s:67     .text.CAN_Setup:00000000 CAN_Setup
     /tmp/ccG9i6Tn.s:120    .text.CAN_Setup:00000034 $d
     /tmp/ccG9i6Tn.s:127    .text.CAN_StartNormalMode:00000000 $t
     /tmp/ccG9i6Tn.s:133    .text.CAN_StartNormalMode:00000000 CAN_StartNormalMode
     /tmp/ccG9i6Tn.s:161    .text.CAN_StartNormalMode:00000018 $d
     /tmp/ccG9i6Tn.s:166    .text.CAN_TestMode:00000000 $t
     /tmp/ccG9i6Tn.s:172    .text.CAN_TestMode:00000000 CAN_TestMode
     /tmp/ccG9i6Tn.s:201    .text.CAN_TestMode:00000018 $d
     /tmp/ccG9i6Tn.s:206    .text.CAN_WaitReady:00000000 $t
     /tmp/ccG9i6Tn.s:212    .text.CAN_WaitReady:00000000 CAN_WaitReady
     /tmp/ccG9i6Tn.s:237    .text.CAN_WaitReady:00000014 $d
     /tmp/ccG9i6Tn.s:624    .bss.CAN_TxRdy:00000000 CAN_TxRdy
     /tmp/ccG9i6Tn.s:243    .text.CAN_WriteMessage:00000000 $t
     /tmp/ccG9i6Tn.s:249    .text.CAN_WriteMessage:00000000 CAN_WriteMessage
     /tmp/ccG9i6Tn.s:384    .text.CAN_WriteMessage:000000b8 $d
     /tmp/ccG9i6Tn.s:389    .text.CAN_ReadMessage:00000000 $t
     /tmp/ccG9i6Tn.s:395    .text.CAN_ReadMessage:00000000 CAN_ReadMessage
     /tmp/ccG9i6Tn.s:409    .text.CAN_SetFilter:00000000 $t
     /tmp/ccG9i6Tn.s:415    .text.CAN_SetFilter:00000000 CAN_SetFilter
     /tmp/ccG9i6Tn.s:518    .text.CAN_SetFilter:00000088 $d
     /tmp/ccG9i6Tn.s:610    .bss.CAN_FilterId.0:00000000 CAN_FilterId.0
     /tmp/ccG9i6Tn.s:524    .text.CAN_GPIO_Init:00000000 $t
     /tmp/ccG9i6Tn.s:530    .text.CAN_GPIO_Init:00000000 CAN_GPIO_Init
     /tmp/ccG9i6Tn.s:602    .text.CAN_GPIO_Init:00000058 $d
     /tmp/ccG9i6Tn.s:607    .bss.CAN_FilterId.0:00000000 $d
     /tmp/ccG9i6Tn.s:617    .bss.CAN_RxRdy:00000000 CAN_RxRdy
     /tmp/ccG9i6Tn.s:614    .bss.CAN_RxRdy:00000000 $d
     /tmp/ccG9i6Tn.s:621    .bss.CAN_TxRdy:00000000 $d
     /tmp/ccG9i6Tn.s:631    .bss.CAN_RxMsg:00000000 CAN_RxMsg
     /tmp/ccG9i6Tn.s:628    .bss.CAN_RxMsg:00000000 $d
     /tmp/ccG9i6Tn.s:638    .bss.CAN_TxMsg:00000000 CAN_TxMsg
     /tmp/ccG9i6Tn.s:635    .bss.CAN_TxMsg:00000000 $d

NO UNDEFINED SYMBOLS
